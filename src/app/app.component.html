<!--The whole content below can be removed with the new code.-->
<div class="main">
  <div style="text-align:center">
    <h1>
      Welcome to {{title}}!
    </h1>
    <div class="alert-container">
      <div *ngFor="let alertMessage of alertMessages" style="padding: 20px 0">
        <span class="alert" [ngClass]="'alert-'+alertMessage.type" (click)="handleClickAlert(alertMessage)">{{alertMessage.text}}</span>
        <!-- not yet compatible with Ng5 <alert  type="{{alertMessage.type}}" dismissible="true">{{alertMessage.text}}</alert> -->
      </div>
    </div>
  </div>
  <div class="row stats">
    <div class="col-xs-4">
        <money [(income)]="income" [(balance)]="balance" [(progressionTracker)]="progressionTracker" (addIncome)="incomeCallback($event)"></money>
    </div>
  </div>
  <div *ngIf="streamingApp && isStreaming" class="row streaming">
    <snake-emulator *ngIf="streamingApp?.name == 'Snake'" (victory)="promotionSuccessCallback($event)" (defeat)="promotionDefeatCallback($event)"></snake-emulator>
    <hearthstone-emulator *ngIf="streamingApp?.name == 'Hearthstone'" (victory)="promotionSuccessCallback($event)" (defeat)="promotionDefeatCallback($event)"></hearthstone-emulator>
    <perudo-emulator *ngIf="streamingApp?.name == 'Perudo'" (victory)="promotionSuccessCallback($event)" (defeat)="promotionDefeatCallback($event)"></perudo-emulator>
  </div>
  <div *ngIf="!isStreaming" class="row development">
    <!-- angular app anchor -->
    <mobile-apps 
      [developerIncome]="income" 
      [(progressionTracker)]="progressionTracker"
      (getIncomeChange)="mobileAppCallback($event)" 
      (attemptToPublishApp)="attemptToPublishAppCallback($event)" 
      (promoteApp)="promoteCallback($event)"></mobile-apps>
  </div>
  <div class="row upgrades" [hidden]="isStreaming">
      <upgrades [(balance)]="balance" (unlockUpgrade)="unlockUpgradeCallback($event)" [(progressionTracker)]="progressionTracker"></upgrades>
  </div>
  <div class="footer">
    <p>Powered by : </p>
    <img width="100px" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAyNTAgMjUwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyNTAgMjUwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojREQwMDMxO30NCgkuc3Qxe2ZpbGw6I0MzMDAyRjt9DQoJLnN0MntmaWxsOiNGRkZGRkY7fQ0KPC9zdHlsZT4NCjxnPg0KCTxwb2x5Z29uIGNsYXNzPSJzdDAiIHBvaW50cz0iMTI1LDMwIDEyNSwzMCAxMjUsMzAgMzEuOSw2My4yIDQ2LjEsMTg2LjMgMTI1LDIzMCAxMjUsMjMwIDEyNSwyMzAgMjAzLjksMTg2LjMgMjE4LjEsNjMuMiAJIi8+DQoJPHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSIxMjUsMzAgMTI1LDUyLjIgMTI1LDUyLjEgMTI1LDE1My40IDEyNSwxNTMuNCAxMjUsMjMwIDEyNSwyMzAgMjAzLjksMTg2LjMgMjE4LjEsNjMuMiAxMjUsMzAgCSIvPg0KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xMjUsNTIuMUw2Ni44LDE4Mi42aDBoMjEuN2gwbDExLjctMjkuMmg0OS40bDExLjcsMjkuMmgwaDIxLjdoMEwxMjUsNTIuMUwxMjUsNTIuMUwxMjUsNTIuMUwxMjUsNTIuMQ0KCQlMMTI1LDUyLjF6IE0xNDIsMTM1LjRIMTA4bDE3LTQwLjlMMTQyLDEzNS40eiIvPg0KPC9nPg0KPC9zdmc+DQo=" />
    <img width="100px" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT4uO1938VDO27wXCCHpoZnFGrgIc47G5YwS0K9QVowx9b3YC6B">
  </div>
</div>